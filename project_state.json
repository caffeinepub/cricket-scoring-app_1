{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 7,
  "summary": "Offline cricket scoring app that adheres to official cricket rules with dynamic rule adjustments during gameplay. Supports configurable overs, player participation, and scoring methods. Designed for both amateur and professional players with an intuitive UI.",
  "architectural_notes": [
    "App must operate fully offline — no internet dependency at runtime.",
    "Use local storage (e.g., SQLite or IndexedDB) for match data persistence.",
    "Architecture must be scalable to support future feature additions.",
    "Tournament rules must be configurable and stored per tournament/match record, not hardcoded."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-build-a-match-setup-screen-where-the-user-can-select-or-create-two-teams-with-player-rosters-configure-match-rules-overs-powerplay-max-overs-per-bowler-free-hit-toggle-choose-the-toss-winner-and-their-decision-bat-bowl-and-assign-the-opening-batsmen-and-opening-bowler-before-starting-the-match",
      "title": "Build a match setup screen where the user can: select or create two teams with player rosters, configure match rules (overs, powerplay, max overs per bowler, free-hit toggle), choose the toss winner and their decision (bat/bowl), and assign the opening batsmen and opening bowler before starting the match.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-main-live-scoring-dashboard-it-must-display-the-current-score-runs-wickets-overs-bowled-e-g-12-3-run-rate-required-run-rate-second-innings-current-batsmen-stats-runs-balls-4s-6s-strike-rate-current-bowler-stats-overs-maidens-runs-wickets-economy-and-a-ball-by-ball-over-timeline-provide-large-tap-friendly-buttons-to-record-each-delivery-run-values-0-6-extras-wide-no-ball-bye-leg-bye-and-wicket-include-an-undo-last-ball-action",
      "title": "Build the main live scoring dashboard. It must display the current score (runs/wickets), overs bowled (e.g. 12.3), run rate, required run rate (second innings), current batsmen stats (runs, balls, 4s, 6s, strike rate), current bowler stats (overs, maidens, runs, wickets, economy), and a ball-by-ball over timeline. Provide large, tap-friendly buttons to record each delivery: run values (0–6), extras (wide, no-ball, bye, leg-bye), and wicket. Include an undo last ball action.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-scorecard-screen-that-shows-the-full-batting-scorecard-each-batsman-s-runs-balls-4s-6s-strike-rate-dismissal-and-bowling-figures-overs-maidens-runs-wickets-economy-for-both-innings-of-the-current-match-allow-navigation-between-innings",
      "title": "Build a scorecard screen that shows the full batting scorecard (each batsman's runs, balls, 4s, 6s, strike rate, dismissal) and bowling figures (overs, maidens, runs, wickets, economy) for both innings of the current match. Allow navigation between innings.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-match-history-screen-listing-all-completed-and-in-progress-matches-with-key-details-teams-result-date-tapping-a-match-opens-its-full-scorecard-in-read-only-mode-include-a-delete-match-option",
      "title": "Build a match history screen listing all completed and in-progress matches with key details (teams, result, date). Tapping a match opens its full scorecard in read-only mode. Include a delete match option.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-cricket-rules-reference-section-within-the-app-it-must-cover-scoring-runs-boundaries-sixes-extras-wide-no-ball-bye-leg-bye-dismissal-types-bowled-caught-run-out-lbw-stumped-hit-wicket-handled-ball-obstructing-the-field-powerplay-rules-free-hit-rule-and-duckworth-lewis-concept-present-rules-in-a-searchable-categorized-accordion-list-layout",
      "title": "Build a cricket rules reference section within the app. It must cover: scoring (runs, boundaries, sixes), extras (wide, no-ball, bye, leg-bye), dismissal types (bowled, caught, run-out, LBW, stumped, hit-wicket, handled ball, obstructing the field), powerplay rules, free-hit rule, and Duckworth-Lewis concept. Present rules in a searchable, categorized accordion/list layout.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-cohesive-visual-theme-throughout-the-app-use-a-deep-cricket-green-and-cream-off-white-palette-with-bold-serif-inspired-headings-and-clean-sans-serif-body-text-the-layout-should-feel-like-a-professional-stadium-scoreboard-high-contrast-compact-data-density-on-the-scoring-dashboard-and-spacious-card-layouts-elsewhere-navigation-should-use-a-bottom-tab-bar-with-icons-for-match-live-scoring-scorecard-history-teams-and-rules",
      "title": "Apply a cohesive visual theme throughout the app. Use a deep cricket-green and cream/off-white palette with bold serif-inspired headings and clean sans-serif body text. The layout should feel like a professional stadium scoreboard: high contrast, compact data density on the scoring dashboard, and spacious card layouts elsewhere. Navigation should use a bottom tab bar with icons for: Match (live scoring), Scorecard, History, Teams, and Rules.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-in-the-rules-page-duplicate-the-existing-cricket-rules-content-into-a-new-tournament-rules-tab-section-alongside-the-current-standard-rules-tab-the-tournament-rules-section-must-display-all-the-tournament-specific-rules-provided-by-the-user-as-static-categorized-searchable-accordion-entries-covering-match-format-structure-10-matches-total-4-league-2-knockout-3-semi-finals-1-final-qualification-criteria-nrr-formula-boundaries-count-head-to-head-tie-breaker-rules-super-over-then-boundaries-powerplay-configuration-per-format-5-over-and-6-over-games-timeout-and-team-readiness-penalty-lbw-and-free-hit-rules-innings-duration-and-slow-over-rate-penalty-retired-hurt-rule-wide-no-ball-bowler-change-rule-max-balls-per-batsman-max-overs-per-bowler-bouncer-limit-per-over-and-general-compliance-rules",
      "title": "In the Rules page, duplicate the existing cricket rules content into a new 'Tournament Rules' tab/section alongside the current 'Standard Rules' tab. The Tournament Rules section must display all the tournament-specific rules provided by the user as static, categorized, searchable accordion entries covering: match format structure (10 matches total: 4 league, 2 knockout, 3 semi-finals, 1 final), qualification criteria (NRR formula, boundaries count, head-to-head), tie-breaker rules (super over, then boundaries), powerplay configuration per format (5-over and 6-over games), timeout and team readiness penalty, LBW and free-hit rules, innings duration and slow over-rate penalty, retired hurt rule, wide/no-ball bowler change rule, max balls per batsman, max overs per bowler, bouncer limit per over, and general compliance rules.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-configure-tournament-rules-settings-panel-or-modal-accessible-from-the-tournament-rules-section-this-form-must-allow-editing-all-configurable-tournament-parameters-stored-in-the-backend-total-matches-overs-per-format-league-final-powerplay-overs-max-fielders-outside-30-yards-during-powerplay-timeout-duration-team-readiness-penalty-thresholds-slow-over-rate-penalty-runs-innings-duration-limit-max-balls-per-batsman-by-format-max-overs-per-bowler-by-format-bouncer-limit-per-over-wide-no-ball-bowler-change-threshold-default-penalty-runs-and-toggles-for-lbw-and-free-hit-changes-must-be-saved-to-the-backend-via-updatetournamentrules-display-current-values-as-defaults-in-the-form",
      "title": "Add a 'Configure Tournament Rules' settings panel or modal accessible from the Tournament Rules section. This form must allow editing all configurable tournament parameters stored in the backend: total matches, overs per format (league/final), powerplay overs, max fielders outside 30 yards during powerplay, timeout duration, team readiness penalty thresholds, slow over-rate penalty runs, innings duration limit, max balls per batsman by format, max overs per bowler by format, bouncer limit per over, wide/no-ball bowler change threshold, default penalty runs, and toggles for LBW and free-hit. Changes must be saved to the backend via updateTournamentRules(). Display current values as defaults in the form.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-in-the-tournament-rules-display-section-render-the-rule-descriptions-dynamically-from-the-saved-backend-configuration-values-rather-than-hardcoded-strings-for-example-one-bowler-can-bowl-a-max-of-maxoversbowlershortformat-overs-in-a-leagueovers-over-match-should-reflect-the-actual-stored-values-all-configurable-rule-statements-in-the-tournament-rules-section-must-update-when-the-configuration-is-changed",
      "title": "In the Tournament Rules display section, render the rule descriptions dynamically from the saved backend configuration values rather than hardcoded strings. For example, 'One bowler can bowl a max of [maxOversBowlerShortFormat] overs in a [leagueOvers]-over match' should reflect the actual stored values. All configurable rule statements in the Tournament Rules section must update when the configuration is changed.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-bulk-player-name-upload-feature-to-the-teams-page-users-must-be-able-to-paste-a-newline-separated-or-comma-separated-list-of-player-names-into-a-text-area-or-upload-a-plain-text-txt-or-csv-file-and-have-all-valid-names-added-as-players-to-the-selected-team-in-one-action-each-parsed-name-should-be-validated-non-empty-not-duplicate-within-the-team-team-does-not-exceed-11-players-show-a-preview-of-parsed-names-before-confirming-and-display-a-summary-of-how-many-players-were-added-or-skipped-with-reasons",
      "title": "Add a bulk player name upload feature to the Teams page. Users must be able to paste a newline-separated or comma-separated list of player names into a text area, or upload a plain-text (.txt) or CSV file, and have all valid names added as players to the selected team in one action. Each parsed name should be validated (non-empty, not duplicate within the team, team does not exceed 11 players). Show a preview of parsed names before confirming, and display a summary of how many players were added or skipped with reasons.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-retheme-the-entire-app-ui-from-the-current-cricket-green-cream-palette-to-a-professional-blue-and-orange-color-scheme-primary-backgrounds-and-headers-should-use-deep-navy-dark-blue-tones-accent-colors-highlights-active-states-buttons-and-key-data-values-should-use-bold-orange-neutral-surfaces-should-use-light-grey-white-update-tailwind-config-color-tokens-css-custom-properties-in-index-css-and-all-component-level-color-classes-teams-page-bottomtabnavigation-layout-header-scoring-dashboard-scorecard-match-history-match-setup-rules-page-and-modals-to-consistently-reflect-the-new-blue-and-orange-palette-typography-spacing-and-layout-density-should-be-refined-to-feel-more-professional-and-polished-clean-sans-serif-body-text-sharp-card-borders-elevated-shadows-and-well-defined-section-hierarchy",
      "title": "Retheme the entire app UI from the current cricket-green/cream palette to a professional blue and orange color scheme. Primary backgrounds and headers should use deep navy/dark blue tones. Accent colors, highlights, active states, buttons, and key data values should use bold orange. Neutral surfaces should use light grey-white. Update Tailwind config color tokens, CSS custom properties in index.css, and all component-level color classes (Teams page, BottomTabNavigation, Layout header, scoring dashboard, scorecard, match history, match setup, rules page, and modals) to consistently reflect the new blue-and-orange palette. Typography, spacing, and layout density should be refined to feel more professional and polished — clean sans-serif body text, sharp card borders, elevated shadows, and well-defined section hierarchy.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Main scoring dashboard for live match scoring",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Dynamic rule modification during gameplay (overs, players, scoring methods)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Team and player customization options",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Cricket rule reference section within the app",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Offline-first data storage and retrieval (no internet required)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Create a backend data model and actor to manage matches, teams, players, innings, overs, and ball-by-ball scoring events. The actor must support creating a new match (with configurable overs limit, teams, and player rosters), recording each ball delivery (runs scored, extras: wide/no-ball/bye/leg-bye, wicket type), and updating match state accordingly. All data must be persisted in stable storage so it survives canister upgrades.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Implement backend functions for team and player customization: add/edit/remove teams (name, color, logo text), add/edit/remove players per team (name, batting order, bowling role). Support saving multiple pre-configured teams for reuse across matches.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Implement dynamic match rule modification: allow changes to the over limit, powerplay over ranges, Duckworth-Lewis target adjustment (manual target override), maximum overs per bowler, and free-hit rule toggle — both before and during a live match. These rule parameters must be stored alongside the match record.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add a Tournament Rules section: copy existing rules and add a fully configurable tournament ruleset covering match format (league/knockout/semi-final/final structure), qualification criteria (NRR, boundaries, head-to-head), tie-breaker rules (super over, boundaries), powerplay configuration, timeout/penalty rules, LBW/free-hit toggles, innings duration limits, slow over-rate penalty, retired hurt rule, wide/no-ball bowler change rule, max balls per batsman, max overs per bowler, bouncer limit, and team readiness penalty.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add a backend data model and storage for tournament rule configurations. Create a TournamentRules stable record type in main.mo that stores all configurable tournament parameters: totalMatches (Nat), numTeams (Nat), leagueMatches (Nat), knockoutMatches (Nat), semifinalMatches (Nat), finalMatches (Nat), leagueOvers (Nat), finalOvers (Nat), leaguePowerplayOvers (Nat), finalPowerplayOvers (Nat), maxFieldersOutside30Yards (Nat), timeoutDurationSeconds (Nat), teamReadinessPenaltyMinutes (Nat), teamReadinessPenaltyOvers (Nat), slowOverRatePenaltyRuns (Nat), inningsDurationMinutes (Nat), maxBallsPerBatsmanShortFormat (Nat), maxBallsPerBatsmanLongFormat (Nat), maxOversBowlerShortFormat (Nat), maxOversBowlerLongFormat (Nat), bouncerLimitPerOver (Nat), widesNoBallBowlerChangeThreshold (Nat), defaultPenaltyRuns (Nat), lbwApplicable (Bool), freeHitApplicable (Bool). Expose getTournamentRules() and updateTournamentRules(rules: TournamentRules) functions.",
      "reqIds": [
        "REQ-11"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add bulk name upload option for teams (e.g., paste or upload a list of player names at once)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Change app UI color theme to blue and orange with a more professional look",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Cricket Scoring App",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}